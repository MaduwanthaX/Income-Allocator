<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Madu's Financial Plan v2</title>
    <style>
        :root {
            --primary: #0056b3;
            --bg: #f0f2f5;
            --card-bg: #ffffff;
            --text: #1a1a1a;
            --danger: #d93025;
            --success: #188038;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--bg);
            color: var(--text);
            padding: 20px;
            max-width: 600px;
            margin: 0 auto;
        }

        h2 { text-align: center; margin-bottom: 20px; color: #333; }

        .controls {
            background: var(--card-bg);
            padding: 20px;
            border-radius: 16px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
            margin-bottom: 20px;
        }

        .input-group { margin-bottom: 15px; }
        .input-group:last-child { margin-bottom: 0; }
        
        label { display: block; font-size: 13px; color: #666; margin-bottom: 5px; font-weight: 600;}
        
        input {
            width: 100%;
            padding: 12px;
            font-size: 16px;
            border: 1px solid #ddd;
            border-radius: 8px;
            box-sizing: border-box;
        }
        input:focus { border-color: var(--primary); outline: none; }

        .card {
            background: var(--card-bg);
            padding: 15px;
            border-radius: 12px;
            margin-bottom: 12px;
            border-left: 5px solid #ccc;
            box-shadow: 0 2px 5px rgba(0,0,0,0.02);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .card-info h4 { margin: 0 0 5px 0; font-size: 16px; }
        .card-info p { margin: 0; font-size: 12px; color: #666; }
        .card-amount { font-weight: 700; font-size: 18px; }

        /* Colors matching your banks */
        .hnb { border-color: #0056b3; } /* Main */
        .peoples { border-color: #f7a600; } /* Fun - People's Bank Yellow */
        .nsb { border-color: #ffc107; } /* Emergency - NSB Yellow */
        .frimi { border-color: #fd3c4f; } /* Invest - FriMi Red */
        .goal { border-color: #00a884; } /* Goal - Green */

        .bill-breakdown {
            margin-top: 8px;
            padding-top: 8px;
            border-top: 1px dashed #eee;
            font-size: 13px;
            color: #555;
        }
        .bill-row { display: flex; justify-content: space-between; margin-bottom: 4px; }
        .rem-row { font-weight: 700; color: var(--primary); }
        .danger-text { color: var(--danger); }

    </style>
</head>
<body>

    <h2>ðŸ’° Galgamuwa Wealth Plan</h2>

    <div class="controls">
        <div class="input-group">
            <label>Income (LKR)</label>
            <input type="number" id="income" placeholder="44000" oninput="calc()">
        </div>
        <div class="input-group">
            <label>Monthly Personal Bills (LKR)</label>
            <input type="number" id="bills" value="13900" oninput="calc()"> 
            <small style="color:#888; display:block; margin-top:4px;">(Router, Phone, Adobe, Upwork)</small>
        </div>
    </div>

    <div class="card hnb" style="display:block;">
        <div style="display:flex; justify-content:space-between;">
            <div class="card-info">
                <h4>Main (HNB)</h4>
                <p>55% Needs Allocation</p>
            </div>
            <div class="card-amount" id="amt-needs">0.00</div>
        </div>
        <div class="bill-breakdown">
            <div class="bill-row">
                <span>- Bills Payment:</span>
                <span id="disp-bills">0.00</span>
            </div>
            <div class="bill-row rem-row">
                <span>Remaining for Food/Travel:</span>
                <span id="disp-remaining">0.00</span>
            </div>
        </div>
    </div>

    <div class="card peoples">
        <div class="card-info">
            <h4>Fun (People's Bank)</h4>
            <p>10% - Card Only</p>
        </div>
        <div class="card-amount" id="amt-fun">0.00</div>
    </div>

    <div class="card nsb">
        <div class="card-info">
            <h4>Emergency (NSB)</h4>
            <p>10% - Passbook</p>
        </div>
        <div class="card-amount" id="amt-emg">0.00</div>
    </div>

    <div class="card goal">
        <div class="card-info">
            <h4>Goal (HNB FD)</h4>
            <p>10% - Bike/Home</p>
        </div>
        <div class="card-amount" id="amt-goal">0.00</div>
    </div>

    <div class="card frimi">
        <div class="card-info">
            <h4>Investment (FriMi)</h4>
            <p>15% - Crypto/Stocks</p>
        </div>
        <div class="card-amount" id="amt-inv">0.00</div>
    </div>

    <script>
        function fmt(num) {
            return num.toLocaleString('en-LK', { minimumFractionDigits: 2, maximumFractionDigits: 2 });
        }

        function calc() {
            let income = parseFloat(document.getElementById('income').value) || 0;
            let bills = parseFloat(document.getElementById('bills').value) || 0;

            // Percentages
            let p_needs = income * 0.55;
            let p_fun = income * 0.10;
            let p_emg = income * 0.10;
            let p_goal = income * 0.10;
            let p_inv = income * 0.15;

            // Needs Calculation
            let remaining = p_needs - bills;

            // Update DOM
            document.getElementById('amt-needs').innerText = fmt(p_needs);
            document.getElementById('disp-bills').innerText = fmt(bills);
            
            let remEl = document.getElementById('disp-remaining');
            remEl.innerText = fmt(remaining);
            
            if(remaining < 0) {
                remEl.innerText = "Warning: " + fmt(remaining);
                remEl.className = "bill-row rem-row danger-text";
            } else {
                remEl.className = "bill-row rem-row";
            }

            document.getElementById('amt-fun').innerText = fmt(p_fun);
            document.getElementById('amt-emg').innerText = fmt(p_emg);
            document.getElementById('amt-goal').innerText = fmt(p_goal);
            document.getElementById('amt-inv').innerText = fmt(p_inv);
        }
    </script>
</body>
</html>
