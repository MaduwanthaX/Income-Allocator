<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Income Allocator</title>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

<style>
:root {
  --bg: radial-gradient(circle at top, #0f172a, #020617);
  --glass: rgba(255, 255, 255, 0.08);
  --border: rgba(255, 255, 255, 0.18);
  --text: #e5e7eb;
  --muted: #94a3b8;
  --primary: #3b82f6;
}

* { box-sizing: border-box; }

body {
  margin: 0;
  min-height: 100vh;
  background: var(--bg);
  font-family: Inter, system-ui, sans-serif;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 32px;
  color: var(--text);
}

.container {
  width: 100%;
  max-width: 620px;
  padding: 40px;
  border-radius: 28px;
  background: var(--glass);
  backdrop-filter: blur(18px);
  -webkit-backdrop-filter: blur(18px);
  border: 1px solid var(--border);
  box-shadow: 0 30px 80px rgba(0,0,0,0.6);
}

h1 {
  text-align: center;
  font-size: 28px;
  font-weight: 700;
  margin-bottom: 36px;
}

label {
  font-size: 13px;
  font-weight: 600;
  color: var(--muted);
  margin-bottom: 6px;
  display: block;
}

.input-group { margin-bottom: 22px; }

input, select {
  width: 100%;
  padding: 15px 18px;
  font-size: 15px;
  font-weight: 500;
  border-radius: 16px;
  border: 1px solid var(--border);
  background: rgba(255,255,255,0.06);
  color: var(--text);
  outline: none;
}

.currency {
  position: relative;
}

.currency span {
  position: absolute;
  left: 18px;
  top: 50%;
  transform: translateY(-50%);
  color: var(--muted);
  font-weight: 600;
}

.currency input {
  padding-left: 50px;
  font-size: 16px;
}

.cards { margin-top: 10px; }

.card {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 16px 20px;
  margin-bottom: 14px;
  border-radius: 18px;
  background: rgba(255,255,255,0.04);
  border-left: 5px solid;
}

.card span:first-child {
  font-weight: 600;
}

.amount {
  font-size: 17px;
  font-weight: 700;
}

.needs { border-color: #3b82f6; }
.invest { border-color: #a855f7; }
.fun { border-color: #f97316; }
.emergency { border-color: #ef4444; }
.goal { border-color: #14b8a6; }

.split {
  text-align: center;
  margin-top: 18px;
  font-size: 12px;
  color: var(--muted);
}

button {
  margin-top: 30px;
  width: 100%;
  padding: 16px;
  font-size: 16px;
  font-weight: 600;
  border-radius: 18px;
  border: none;
  cursor: pointer;
  background: linear-gradient(135deg, #3b82f6, #2563eb);
  color: white;
}
</style>
</head>

<body>

<div class="container">
<h1>ðŸ’¸ Income Allocator</h1>

<div class="input-group">
  <label>Date</label>
  <input type="date" id="date">
</div>

<div class="input-group">
  <label>Income Source</label>
  <select id="source">
    <option>Upwork</option>
    <option>Direct Client</option>
    <option>Local Client</option>
  </select>
</div>

<div class="input-group">
  <label>Income Amount (LKR)</label>
  <div class="currency">
    <span>Rs.</span>
    <input type="number" id="income" placeholder="0.00">
  </div>
</div>

<div class="cards">
  <div class="card needs">
    <span>Main (HNB)</span>
    <span class="amount" id="needs">0.00</span>
  </div>

  <div class="card invest">
    <span>Investment (FRIMI)</span>
    <span class="amount" id="invest">0.00</span>
  </div>

  <div class="card fun">
    <span>Fun (Peopleâ€™s Bank)</span>
    <span class="amount" id="fun">0.00</span>
  </div>

  <div class="card emergency">
    <span>Emergency (NSB)</span>
    <span class="amount" id="emergency">0.00</span>
  </div>

  <div class="card goal">
    <span>Goal (HNB 2ND)</span>
    <span class="amount" id="goal">0.00</span>
  </div>
</div>

<div class="split">55 / 15 / 10 / 10 / 10 split</div>

<button onclick="savePDF()">ðŸ“„ Save as PDF</button>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<script>
date.valueAsDate = new Date();
income.addEventListener("input", calculate);

function format(n) {
  return n.toLocaleString("en-LK", { minimumFractionDigits: 2 });
}

function calculate() {
  const v = parseFloat(income.value) || 0;
  needs.innerText = format(v * 0.55);
  invest.innerText = format(v * 0.15);
  fun.innerText = format(v * 0.10);
  emergency.innerText = format(v * 0.10);
  goal.innerText = format(v * 0.10);
}

function savePDF() {
  const { jsPDF } = window.jspdf;
  const pdf = new jsPDF();

  pdf.text("Income Allocation Report", 20, 20);
  pdf.text(`Date: ${date.value}`, 20, 35);
  pdf.text(`Source: ${source.value}`, 20, 43);
  pdf.text(`Income: Rs. ${income.value}`, 20, 51);

  pdf.text(`Main (HNB): ${needs.innerText}`, 20, 65);
  pdf.text(`Investment (FRIMI): ${invest.innerText}`, 20, 73);
  pdf.text(`Fun (Peopleâ€™s Bank): ${fun.innerText}`, 20, 81);
  pdf.text(`Emergency (NSB): ${emergency.innerText}`, 20, 89);
  pdf.text(`Goal (HNB 2ND): ${goal.innerText}`, 20, 97);

  pdf.save(`income-${date.value}.pdf`);
}
</script>

</body>
</html>
